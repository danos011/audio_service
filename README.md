# audio_service

Задача
Создать WebSocket-сервис, который:
• принимает бинарные аудио-чанки от клиентов;
• отправляет их в отдельный процесс/поток через очередь (IPC);
• получает от обработчика mock-транскрипты (имитация распознавания);
• возвращает транскрипты клиентам в формате JSON.

Требования

WebSocket-сервер:
• Принимает бинарные сообщения от нескольких клиентов параллельно.
• Отправляет JSON с транскриптами или сообщениями об ошибках.
• Обрабатывает подключение/отключение клиентов.

Обработчик аудио:
• Запускается в отдельном процессе/потоке.
• Получает аудио-чанки через очередь.
• Возвращает mock-транскрипты (например, фиксированная строка или имитация обработки).

IPC (межпроцессное взаимодействие):
• Обеспечивает передачу данных между сервером и обработчиком.
• Поддерживает работу с несколькими клиентами без блокировок.

Технические требования
• Python 3.10+ или Golang
• Работа только локально, без внешних API

---

## Установка зависимостей (dev)

```
# в корне репозитория

python -m venv .venv

# Linux/macOS:

source .venv/bin/activate

# Windows (PowerShell):

# .venv\Scripts\Activate.ps1

# зависимости сервера

pip install -r server/requirements.txt

# зависимости клиента (если пример клиента используется)

pip install -r client/requirements.txt
```

## Запуск сервера

```
# права на исполнение один раз
chmod +x server/entrypoint.sh

# старт сервера (скрипт внутри сам выполнит uvicorn main:app ...)
./server/entrypoint.sh

```

## Запуск клиента

```

chmod +x client/entrypoint.sh
./client/entrypoint.sh

```

---

- Есть поддержка обработки разных клиентов. Можно их запускать в отдельном терминале
- Докер добавлю позже

---